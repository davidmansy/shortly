<script>
  $(function(){

    var app = new Shortly();

    AppRouter = Backbone.Router.extend({
      routes: {
        "shorten": "showNewLinkForm",
        "index": "showListOfLinks",
        "login": "showLogin",
        "signup": "showSignup",
        "register": "registerAndShowLogin",
      },

      showNewLinkForm: function() {
        app.renderCreateView();
      },

      showListOfLinks: function() {
        app.renderIndexView();
      },

      showLogin: function() {
        app.renderUserView();
      },

      showSignup: function() {
        app.renderSignupView();
      },

      registerAndShowLogin: function() {
        //Do registration stuff
        app.renderUserView();
      }
    });

    var appRouter = new AppRouter();
    Backbone.history.start({pushState: true}); //NEW

  });
</script>
